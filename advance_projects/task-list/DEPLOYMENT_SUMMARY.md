# ğŸ‰ Task List æ‡‰ç”¨ç¨‹å¼ - éƒ¨ç½²æˆåŠŸï¼

æ­å–œï¼æ‚¨çš„ Task List æ‡‰ç”¨ç¨‹å¼å·²æˆåŠŸå»ºç«‹ Docker åŒ–éƒ¨ç½²ç’°å¢ƒã€‚

## ğŸ“‹ ç³»çµ±æ¦‚è¦½

æ‚¨ç¾åœ¨æ“æœ‰ä¸€å€‹å®Œæ•´çš„å®¹å™¨åŒ– Task List æ‡‰ç”¨ç¨‹å¼ï¼ŒåŒ…å«ï¼š

- âœ… Spring Boot 3.5.6 æ‡‰ç”¨ç¨‹å¼ (Java 21)
- âœ… PostgreSQL 15 è³‡æ–™åº«
- âœ… pgAdmin 4 è³‡æ–™åº«ç®¡ç†ä»‹é¢
- âœ… Docker å®¹å™¨åŒ–éƒ¨ç½²
- âœ… Terraform åŸºç¤è¨­æ–½å³ä»£ç¢¼
- âœ… è‡ªå‹•åŒ–å•Ÿå‹•è…³æœ¬

## ğŸš€ å¿«é€Ÿå•Ÿå‹•

### æ–¹æ³• 1: ä½¿ç”¨å¿«é€Ÿå•Ÿå‹•è…³æœ¬ (æ¨è–¦)
```bash
./quick-start.sh
```

### æ–¹æ³• 2: ä½¿ç”¨ Make å‘½ä»¤
```bash
make quick-start
```

### æ–¹æ³• 3: ä½¿ç”¨ Docker Compose
```bash
docker-compose up -d
```

### æ–¹æ³• 4: ä½¿ç”¨ Terraform
```bash
./terraform-start.sh
```

## ğŸŒ æœå‹™è¨ªå•

| æœå‹™ | URL | èªªæ˜ |
|------|-----|------|
| Task List æ‡‰ç”¨ç¨‹å¼ | http://localhost:8080 | ä¸»è¦æ‡‰ç”¨ç¨‹å¼ |
| å¥åº·æª¢æŸ¥ | http://localhost:8080/actuator/health | ç³»çµ±å¥åº·ç‹€æ…‹ |
| pgAdmin | http://localhost:5050 | è³‡æ–™åº«ç®¡ç†ä»‹é¢ |
| PostgreSQL | localhost:5432 | è³‡æ–™åº«ç›´æ¥é€£æ¥ |

## ğŸ” ç™»å…¥è³‡è¨Š

### PostgreSQL è³‡æ–™åº«
- **ä¸»æ©Ÿ**: localhost
- **ç«¯å£**: 5432
- **è³‡æ–™åº«**: demo_task_db
- **ç”¨æˆ¶**: demo-task
- **å¯†ç¢¼**: demo-pwd

### pgAdmin ç®¡ç†ä»‹é¢
- **URL**: http://localhost:5050
- **Email**: admin@taskapp.com
- **å¯†ç¢¼**: admin123

## ğŸ› ï¸ ç®¡ç†å‘½ä»¤

### ä½¿ç”¨ Make (æ¨è–¦)
```bash
make help           # é¡¯ç¤ºæ‰€æœ‰å¯ç”¨å‘½ä»¤
make quick-start     # å¿«é€Ÿå•Ÿå‹•
make status          # æª¢æŸ¥ç‹€æ…‹
make logs            # æŸ¥çœ‹æ—¥èªŒ
make test            # åŸ·è¡Œç³»çµ±æ¸¬è©¦
make stop            # åœæ­¢æœå‹™
make clean           # æ¸…ç†è³‡æº
```

### ä½¿ç”¨ Docker Compose
```bash
docker-compose ps        # æŸ¥çœ‹å®¹å™¨ç‹€æ…‹
docker-compose logs      # æŸ¥çœ‹æ—¥èªŒ
docker-compose restart   # é‡å•Ÿæœå‹™
docker-compose down      # åœæ­¢æœå‹™
```

### ä½¿ç”¨è…³æœ¬
```bash
./test-system.sh         # åŸ·è¡Œç³»çµ±æ¸¬è©¦
./terraform-start.sh     # Terraform å•Ÿå‹•
```

## ğŸ—ï¸ æ¶æ§‹åœ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Task List     â”‚    â”‚   PostgreSQL    â”‚    â”‚    pgAdmin      â”‚
â”‚   Application   â”‚â—„â”€â”€â–ºâ”‚    Database     â”‚â—„â”€â”€â–ºâ”‚   (Optional)    â”‚
â”‚   (Port 8080)   â”‚    â”‚   (Port 5432)   â”‚    â”‚   (Port 5050)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Docker Network                          â”‚
â”‚                      (task-network)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ å°ˆæ¡ˆçµæ§‹

```
task-list/
â”œâ”€â”€ ğŸ³ Docker ç›¸é—œ
â”‚   â”œâ”€â”€ Dockerfile                 # æ‡‰ç”¨ç¨‹å¼å®¹å™¨
â”‚   â”œâ”€â”€ docker-compose.yml         # å¤šå®¹å™¨ç·¨æ’
â”‚   â””â”€â”€ .dockerignore              # Docker å¿½ç•¥æ–‡ä»¶
â”œâ”€â”€ ğŸ—ï¸ Terraform åŸºç¤è¨­æ–½
â”‚   â””â”€â”€ infra/
â”‚       â””â”€â”€ main.tf                # Terraform é…ç½®
â”œâ”€â”€ ğŸš€ å•Ÿå‹•è…³æœ¬
â”‚   â”œâ”€â”€ quick-start.sh             # å¿«é€Ÿå•Ÿå‹•
â”‚   â”œâ”€â”€ terraform-start.sh         # Terraform å•Ÿå‹•
â”‚   â””â”€â”€ scripts/
â”‚       â”œâ”€â”€ start.sh               # å®Œæ•´å•Ÿå‹•è…³æœ¬
â”‚       â””â”€â”€ wait-for-db.sh         # è³‡æ–™åº«ç­‰å¾…è…³æœ¬
â”œâ”€â”€ ğŸ§ª æ¸¬è©¦å’Œå·¥å…·
â”‚   â”œâ”€â”€ test-system.sh             # ç³»çµ±æ¸¬è©¦
â”‚   â””â”€â”€ Makefile                   # Make å‘½ä»¤å®šç¾©
â”œâ”€â”€ ğŸ“š æ–‡æª”
â”‚   â”œâ”€â”€ DOCKER_README.md           # Docker éƒ¨ç½²æŒ‡å—
â”‚   â””â”€â”€ DEPLOYMENT_SUMMARY.md      # æœ¬æ–‡æª”
â””â”€â”€ â˜• æ‡‰ç”¨ç¨‹å¼æºç¢¼
    â”œâ”€â”€ src/                       # Java æºç¢¼
    â”œâ”€â”€ pom.xml                    # Maven é…ç½®
    â””â”€â”€ target/                    # ç·¨è­¯è¼¸å‡º
```

## ğŸ§ª æ¸¬è©¦æ‚¨çš„éƒ¨ç½²

åŸ·è¡Œç³»çµ±æ¸¬è©¦ä¾†é©—è­‰æ‰€æœ‰çµ„ä»¶ï¼š

```bash
./test-system.sh
```

æˆ–ä½¿ç”¨ Makeï¼š

```bash
make test
```

## ğŸ”§ æ•…éšœæ’é™¤

### æ‡‰ç”¨ç¨‹å¼ç„¡æ³•å•Ÿå‹•
1. æª¢æŸ¥å®¹å™¨ç‹€æ…‹ï¼š`docker-compose ps`
2. æŸ¥çœ‹æ‡‰ç”¨ç¨‹å¼æ—¥èªŒï¼š`docker-compose logs app`
3. ç¢ºèªç«¯å£æœªè¢«ä½”ç”¨ï¼š`lsof -i :8080`

### è³‡æ–™åº«é€£æ¥å•é¡Œ
1. æª¢æŸ¥è³‡æ–™åº«ç‹€æ…‹ï¼š`docker-compose logs postgres`
2. æ¸¬è©¦è³‡æ–™åº«é€£æ¥ï¼š`docker exec -it task-list-postgres pg_isready`

### æ¸…ç†ä¸¦é‡æ–°é–‹å§‹
```bash
make clean      # æˆ–
docker-compose down -v
./quick-start.sh
```

## ğŸ”„ é–‹ç™¼å·¥ä½œæµç¨‹

### ä¿®æ”¹ç¨‹å¼ç¢¼å¾Œé‡æ–°éƒ¨ç½²
```bash
# 1. é‡æ–°ç·¨è­¯
./mvnw clean package -DskipTests

# 2. é‡å»ºå®¹å™¨
docker-compose build --no-cache app

# 3. é‡å•Ÿæœå‹™
docker-compose up -d
```

### åƒ…é‡å•Ÿè³‡æ–™åº«
```bash
make db-only    # æˆ–
docker-compose up -d postgres
```

## ğŸš§ ç”Ÿç”¢ç’°å¢ƒæ³¨æ„äº‹é …

åœ¨ç”Ÿç”¢ç’°å¢ƒéƒ¨ç½²å‰ï¼Œè«‹è€ƒæ…®ï¼š

1. **å®‰å…¨æ€§**
   - æ›´æ”¹é è¨­å¯†ç¢¼
   - ä½¿ç”¨ç’°å¢ƒè®Šæ•¸ç®¡ç†æ•æ„Ÿè³‡è¨Š
   - è¨­å®šé©ç•¶çš„ç¶²è·¯å®‰å…¨çµ„

2. **æ•ˆèƒ½**
   - èª¿æ•´è³‡æ–™åº«é€£æ¥æ± è¨­å®š
   - è¨­å®šé©ç•¶çš„ JVM è¨˜æ†¶é«”
   - è€ƒæ…®ä½¿ç”¨å¤–éƒ¨è³‡æ–™åº«

3. **ç›£æ§**
   - è¨­å®šæ—¥èªŒèšåˆ
   - æ·»åŠ æ‡‰ç”¨ç¨‹å¼ç›£æ§
   - è¨­å®šå¥åº·æª¢æŸ¥è­¦å ±

## ğŸ¤ æ”¯æ´å’Œè²¢ç»

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼š

1. æŸ¥çœ‹æ—¥èªŒï¼š`make logs`
2. åŸ·è¡Œæ¸¬è©¦ï¼š`make test`
3. æª¢æŸ¥å¥åº·ç‹€æ…‹ï¼š`curl http://localhost:8080/actuator/health`

## ğŸ¯ ä¸‹ä¸€æ­¥

ç¾åœ¨æ‚¨å¯ä»¥ï¼š

1. ğŸŒ è¨ªå•æ‡‰ç”¨ç¨‹å¼ï¼šhttp://localhost:8080
2. ğŸ”§ ä½¿ç”¨ pgAdmin ç®¡ç†è³‡æ–™åº«ï¼šhttp://localhost:5050
3. ğŸ“Š ç›£æ§ç³»çµ±å¥åº·ï¼šhttp://localhost:8080/actuator/health
4. ğŸš€ é–‹å§‹é–‹ç™¼æ–°åŠŸèƒ½

---

**æ­å–œæ‚¨æˆåŠŸå»ºç«‹äº†å®Œæ•´çš„ Docker åŒ– Task List æ‡‰ç”¨ç¨‹å¼ç’°å¢ƒï¼** ğŸ‰